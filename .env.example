# PixSim7 Environment Configuration
# Copy this to .env and update with your values

# ===== PORTS (Configurable to avoid conflicts) =====
POSTGRES_PORT=5435        # PostgreSQL external port for PixSim7
REDIS_PORT=6380           # Redis external port (pixsim6 uses 6379)

# Backend Services
BACKEND_PORT=8000         # Main backend API port
GENERATION_API_PORT=8001  # Generation API microservice port (optional)

# Frontend Services
FRONTEND_PORT=5173        # Main React frontend port
GAME_FRONTEND_PORT=5175   # Game frontend port
DEVTOOLS_PORT=5176        # Devtools frontend port

# Docker-only ports (used in docker-compose.yml)
BACKEND_INTERNAL_PORT=8000  # API server internal port (inside Docker)

# ===== DATABASE =====
DATABASE_URL=postgresql://pixsim:pixsim123@localhost:5435/pixsim7
# For Docker (container network): postgresql://pixsim:pixsim123@postgres:5432/pixsim7
DB_PASSWORD=pixsim123

# ===== REDIS =====
REDIS_URL=redis://localhost:6380/0
# For Docker: redis://redis:6379/0

# ===== SECURITY =====
SECRET_KEY=change-this-to-a-random-string-in-production
JWT_EXPIRATION_DAYS=30

# ===== NETWORK & CORS =====
HOST=0.0.0.0              # Bind address (0.0.0.0 for all interfaces)

# ZeroTier Network (automatically added to CORS)
ZEROTIER_NETWORK=10.243.0.0/16

# CORS Origins (comma-separated or "*" for all)
# ZeroTier network is automatically added, so you don't need to specify 10.243.*.* here
CORS_ORIGINS=http://localhost:5173,http://localhost:5175,http://localhost:5176,http://localhost:8000,http://localhost:8001

# For ZeroTier access from admin panel:
# VITE_API_URL=http://10.243.48.125:8001/api/v1
# VITE_WS_URL=ws://10.243.48.125:8001/ws

# ===== APP =====
DEBUG=true
LOG_LEVEL=INFO
API_TITLE=PixSim7
API_VERSION=0.1.0

# ===== LOGGING =====
LOG_FILE=logs/pixsim7.log
JSON_LOGS=false  # Set to "true" for JSON formatted logs

# ===== STORAGE =====
STORAGE_BASE_PATH=./storage
MAX_STORAGE_GB=100

# ===== PROVIDER SETTINGS =====
PIXVERSE_TIMEOUT=300
PROVIDER_POLL_INTERVAL=10

# ===== USER LIMITS =====
MAX_JOBS_PER_USER=100
MAX_ACCOUNTS_PER_USER=10
MAX_STORAGE_PER_USER_GB=50

# ===== WORKER SETTINGS (ARQ) =====
ARQ_MAX_JOBS=10
ARQ_JOB_TIMEOUT=3600
ARQ_MAX_TRIES=3

# ===== ADMIN PANEL =====
# (deprecated)
